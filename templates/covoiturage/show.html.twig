
{% extends 'baseF.html.twig'%}
{% block title %}COVOITURAGE{% endblock %}

{% block body %}
    <h1>Covoiturage</h1>

{% block javascripts %}
    {{ parent() }}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function(){
            // Bind the click event to the submit button
            $('#submit-button').click(function(event){
                event.preventDefault();
                // Send the form data to the controller
                $.ajax({
                    type: 'POST',
                    url: '/reservation/new/' + id,
                    data: $('#reservation-form').serialize(),
                    success: function(response){
                        // Redirect to the reservation index page
                        window.location.href = "{{ path('app_reservation_index') }}";
                    },
                    error: function(response){
                        // Show the alert message
                        if (response.responseJSON && response.responseJSON.message) {
                            $('#alert-message').html(response.responseJSON.message);
                        }
                    }
                });
            });
        });
    </script>
{% endblock %}



    <table class="table">
        <tbody>
            {# <tr>
                <th>Id</th>
                <td>{{ covoiturage.id }}</td>
            </tr> #}
            {# <tr>
                <th>Id_cov</th>
                <td>{{ covoiturage.idCov }}</td>
            </tr> #}
           
            <tr>
                <th>Depart : </th>
                <td>{{ covoiturage.depart }}</td>
            </tr>
            <tr>
                <th>Destination : </th>
                <td>{{ covoiturage.destination }}</td>
            </tr>
            <tr>
                <th>Date_covoiturage : </th>
                <td>{{ covoiturage.dateCovoiturage ? covoiturage.dateCovoiturage|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
                <th>Prix :</th>
                <td>{{ covoiturage.Prix }}</td>
            </tr>
            <tr>
                <th>Nombre de place :</th>
                <td>{{ covoiturage.nbrplace }}</td>
            </tr>
             <tr>
              
            </tr>
            {# <tr>
                <th>Telephone</th>
                <td>{{ covoiturage.telephone }}</td>
            </tr> #}
        </tbody>
    </table>

    {# <a href="{{ path('app_covoiturage_index') }}">back to list</a> #}
    <div class ="col-12 text-center"> 
<a href="{{ path('app_reservation_new1', {'id': covoiturage.id}) }}" class="btn btn-success btn-sm ">Reserver</a>
  </div> 
    {# <a href="{{ path('app_covoiturage_edit', {'id': covoiturage.id}) }}">edit</a> #}

    {# {{ include('covoiturage/_delete_form.html.twig') }} #}
{% endblock %}
