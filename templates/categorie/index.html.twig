{% extends 'baseB.html.twig' %}
{% block title %}
	Categorie index
{% endblock %}

{% block body %}
	<div class="nk-content">
		<div class="container">
			<div class="nk-content-inner">
				<div class="nk-content-body">
					<div class="nk-block-head">
						<div class="nk-block-head-between flex-wrap gap g-2">
							<div class="nk-block-head-content">
								<h2 class="nk-block-title">Catégories
								</h1>
								<nav>
									<ol class="breadcrumb breadcrumb-arrow mb-0">
										<li class="breadcrumb-item">
											<a href="#">Accueil</a>
										</li>
										<li class="breadcrumb-item active" aria-current="page">Catégories</li>
									</ol>
								</nav>
							</div>
							<div class="nk-block-head-content">
								<ul class="d-flex">
									<li>
										<a href="https://html.nioboard.themenio.com/ecommerce/add-category.html" class="btn btn-primary btn-md d-md-none">
											<em class="icon ni ni-plus"></em>
											<span>Créer</span>
										</a>
									</li>
									<li>
										<a href="{{ path('app_categorie_new') }}" class="btn btn-primary d-none d-md-inline-flex">
											<i class="fas fa-plus-circle me-2"></i>
											<span>Créer Catégorie</span>
										</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
					<div class="nk-block">
						<div class="card data-table-card">
							<table class="datatable-init table" data-nk-container="table-responsive">
								<thead class="table-light">
									<tr>
										<th class="tb-col tb-col-check" data-sortable="false">
										</th>
										<th class="tb-col">
											<span class="overline-title">Catégorie</span>
										</th>
										<th class="tb-col tb-col-md">
											<span class="overline-title">Date création</span>
										</th>
										<th class="tb-col tb-col-sm">
											<span class="overline-title">Nombre de sujets</span>
										</th>
										<th class="tb-col tb-col-end" data-sortable="false">
											<span class="overline-title">Modifier</span>
										</th>
										<th class="tb-col tb-col-end" data-sortable="false">
											<span class="overline-title">Supprimer</span>
										</th>
									</tr>
								</thead>
								<tbody>
									{% for categorie in categories %}
										<tr>
											<td class="tb-col tb-col-check">
												<div class="form-check">
													<input class="form-check-input" type="checkbox" value="">
												</div>
											</td>
											<td class="tb-col">
												<div class="media-group">
													<div class="media media-middle">
														{% if categorie.nomCategorie == "Infrastructure" %}
															<img src="{{asset('front/images/categories/infra.jpg')}}" alt="Infrastructure image">
														{% elseif categorie.nomCategorie == "Dons" %}
															<img src="{{asset('front/images/categories/don.png')}}" alt="Don image">
														{% elseif categorie.nomCategorie == "Recrutement" %}
															<img src="{{asset('front/images/rec.jpg')}}" alt="Rec image">

														{% else %}
															<img src="{{asset('front/images/categories/new.jpg')}}" alt="Default image">
														{% endif %}
													</div>
													<div class="media-text">
														<a href="#" class="title">{{ categorie.nomCategorie }}</a>
													</div>
												</div>
											</td>
											<td class="tb-col tb-col-md">
												<span class="badge text-bg-primary-soft">{{ categorie.dateCreationCategorie ? categorie.dateCreationCategorie|date('Y-m-d') : '' }}</span>
											</td>
											<td class="tb-col tb-col-sm">
												<span>{{ categorie.nbSujets }}</span>
											</td>
											<td class="tb-col tb-col-end ">
												<div class="d-flex justify-content-end align-items-center" style="height: 100%;">
													<a href="{{ path('app_categorie_edit', {'idCategorie': categorie.idCategorie}) }}" class="btn btn-edit" style="background-color: transparent;
																														  border: none;
																														  cursor: pointer;
																														  font-size: 16px;
																														  color: blue;
																														  padding: 0;">
														<i class="fas fa-edit"></i>
													</a>
												</div>
											</td>
											<td class="tb-col tb-col-end ">
												<div class="d-flex justify-content-end align-items-center" style="height: 100%;">
													{{ include('categorie/_delete_form.html.twig') }}
												</div>
											</td>
										</tr>
									{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

{% endblock %}
