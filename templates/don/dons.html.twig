<div id="dons-container">


    <div class="products-view__list products-list products-list--grid--4" data-layout="grid" data-with-features="false">
        {% for don in dons %}

            {% if loop.index % 4 == 1 %}
                <div class="row">
                {% endif %}

                <div class="products-list__item" class="col-md-3">
                    <div class="product-card">
                        <div class="product-card__actions-list" id="dons-container">

                           <button class="product-card__action product-card__action--wishlist" type="button" aria-label="Add to wish list">
    <a href="{{ path('app_don_detail', {'id': don.getIdDon()}) }}" class="product-card__action product-card__action--quickview" >
        <svg width="10" height="10" style="width: 16px; height: 16px;">
            <path d="M14,15h-4v-2h3v-3h2v4C15,14.6,14.6,15,14,15z M13,3h-3V1h4c0.6,0,1,0.4,1,1v4h-2V3z M6,3H3v3H1V2c0-0.6,0.4-1,1-1h4V3z M3,13h3v2H2c-0.6,0-1-0.4-1-1v-4h2V13z"/>
        </svg>
    </a>
</button>

   <button class="product-card__action product-card__action--wishlist" type="button" aria-label="Add to wish list">
								<a href="{{ path('app_favoris_dons_add', {'id': don.getidDon()}) }}" class="product-card__action product-card__action--quickview" aria-label="Quick view">
									<svg width="16" height="16">
                                                        <path d="M13.9,8.4l-5.4,5.4c-0.3,0.3-0.7,0.3-1,0L2.1,8.4c-1.5-1.5-1.5-3.8,0-5.3C2.8,2.4,3.8,2,4.8,2s1.9,0.4,2.6,1.1L8,3.7
	l0.6-0.6C9.3,2.4,10.3,2,11.3,2c1,0,1.9,0.4,2.6,1.1C15.4,4.6,15.4,6.9,13.9,8.4z"/>
                                                    </svg>
								</a>

							</button>

</button>


                           
           
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

<!-- Afficher les messages Flash avec Toastr -->
{% for type, messages in app.session.flashBag.all() %}
   {% for message in messages %}
      <script>
         toastr.{{ type }}('{{ message }}');
      </script>
   {% endfor %}
{% endfor %}
<style>.flash-messages {
  position: fixed;
  bottom: 0;
  left: 40;
  right: 250;
  z-index: 9999;
}
/* Personnalisation des messages d'erreur Toastr */
.toast-error {
  background-color: red;
}

</style>

    </a>
</button>
<script>
   $(document).ready(function() {
  $('#mon-bouton').click(function() {
    $.ajax({
      url: 'app_dons_index',
      type: 'GET',
      data: { monParametre: 'maValeur' },
      success: function(response) {
        if (response.etat === 'actif') {
          $('#mon-bouton').css('background-color', 'vert');
        } else {
          $('#mon-bouton').css('background-color', 'rouge');
        }
      },
      error: function() {
        alert('Une erreur est survenue');
      }
    });
  });
});
</script>



                        </div>
                        <div class="product-card__image">
                            <div class="image image--type--product">
                                <a href="{{ path('app_don_detail', {'id': don.getIdDon()}) }}" class="image__body">
                                    <img class="image__tag" src="{{ asset('uploads/' ~ don.getImagedon()) }}" alt="image de don"></a>
                                </div>
                            </div>
                            <div class="product-card__info">
                                <div class="product-card__meta">
                                   <a href="product-full.html">Ajouté le {{ don.dateAjout|date('d/m/Y') }}</a>

                                </div>
                                <div class="product-card__name">
                                    <div>
                                        {#<div class="product-card__badges">
                                        																	<div class="tag-badge tag-badge--sale">sale</div>
                                        																	<div class="tag-badge tag-badge--new">new</div>
                                        																	<div class="tag-badge tag-badge--hot">hot</div>
                                        																</div>
                                        																#}
                                    
                                    </div>
                                </div>
                                <div class="product-card__rating">
                                       {% if don.idUtilisateur.getId() == 7 %}
                                    <div class="product-card__rating-label">
<span class="icon"><i class="fas fa-check-circle" style="color:green;"></i></span>
                                    Possédé
                                    </div>
{% else %}
<span class="icon"><i class="fas fa-shopping-cart" style="color:blue;" ></i></span> &nbsp Demander

                                    {% endif %}
                                </div>
                            
                            </div>

                            <div class="product-card__footer">
                                <div class="product-card__prices">
                                    <div class="product-card__price product-card__price--current">{{ don.type }}
                                        </div>
                                </div>
                                 {% if don.idUtilisateur.getId() != 7 %}
                                <a href="{{ path('app_add_demandedon', {'id': don.getIdDon()}) }}" class="product-card__addtocart-icon" aria-label="Add to cart">
                                 <svg width="20" height="20">
                                        <circle cx="7" cy="17" r="2"/>
                                        <circle cx="15" cy="17" r="2"/>
                                        <path d="M20,4.4V5l-1.8,6.3c-0.1,0.4-0.5,0.7-1,0.7H6.7c-0.4,0-0.8-0.3-1-0.7L3.3,3.9C3.1,3.3,2.6,3,2.1,3H0.4C0.2,3,0,2.8,0,2.6 V1.4C0,1.2,0.2,1,0.4,1h2.5c1,0,1.8,0.6,2.1,1.6L5.1,3l2.3,6.8c0,0.1,0.2,0.2,0.3,0.2h8.6c0.1,0,0.3-0.1,0.3-0.2l1.3-4.4 C17.9,5.2,17.7,5,17.5,5H9.4C9.2,5,9,4.8,9,4.6V3.4C9,3.2,9.2,3,9.4,3h9.2C19.4,3,20,3.6,20,4.4z"/>
                                    </svg>
                                </a>
                                {% endif %}
                                   

                                <button class="product-card__addtocart-full" type="button">Add to cart</button>
                                <button class="product-card__wishlist" type="button">
                                    <svg width="16" height="16">
                                        <path d="M13.9,8.4l-5.4,5.4c-0.3,0.3-0.7,0.3-1,0L2.1,8.4c-1.5-1.5-1.5-3.8,0-5.3C2.8,2.4,3.8,2,4.8,2s1.9,0.4,2.6,1.1L8,3.7
                                        																																																								l0.6-0.6C9.3,2.4,10.3,2,11.3,2c1,0,1.9,0.4,2.6,1.1C15.4,4.6,15.4,6.9,13.9,8.4z"/>
                                    </svg>
                                    <span>Add to wishlist</span>
                                </button>
                                <button class="product-card__compare" type="button">
                                    <svg width="16" height="16">
                                        <path d="M9,15H7c-0.6,0-1-0.4-1-1V2c0-0.6,0.4-1,1-1h2c0.6,0,1,0.4,1,1v12C10,14.6,9.6,15,9,15z"/>
                                        <path d="M1,9h2c0.6,0,1,0.4,1,1v4c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.4-1-1v-4C0,9.4,0.4,9,1,9z"/>
                                        <path d="M15,5h-2c-0.6,0-1,0.4-1,1v8c0,0.6,0.4,1,1,1h2c0.6,0,1-0.4,1-1V6C16,5.4,15.6,5,15,5z"/>
                                    </svg>
                                    <span>Add to compare</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    {% if loop.index % 4 == 0 or loop.last %}
                    </div>
                {% endif %}
            {% endfor %}
        </div>
        {#{{knp_pagination_render(dons)}}#}
      <div class="products-view__pagination d-flex justify-content-center">
    <nav aria-label="Page navigation example">
        <ul class="pagination">
                    {% if dons.getTotalItemCount() > 1 %}
                        <li class="page-item {% if dons.getCurrentPageNumber() == 1 %}disabled{% endif %}">
                            <a class="page-link page-link--with-arrow" href="{{ path('app_list_don', {'page': dons.getCurrentPageNumber() - 1}) }}" aria-label="Previous">
                                <span class="page-link__arrow page-link__arrow--left" aria-hidden="true">
                                    <svg width="7" height="11">
                                        <path d="M6.7,0.3L6.7,0.3c-0.4-0.4-0.9-0.4-1.3,0L0,5.5l5.4,5.2c0.4,0.4,0.9,0.3,1.3,0l0,0c0.4-0.4,0.4-1,0-1.3l-4-3.9l4-3.9C7.1,1.2,7.1,0.6,6.7,0.3z"/>
                                    </svg>
                                </span>
                            </a>
                        </li>
                        {% for page in pagesInRange %}
                            <li class="page-item {% if dons.getCurrentPageNumber() == page %}active{% endif %}">
                                <a class="page-link" href="{{ path('app_list_don', {'page': page}) }}">{{ page }}</a>
                            </li>
                        {% endfor %}
                        <li class="page-item {% if dons.getCurrentPageNumber() == lastPageNumber %}disabled{% endif %}">
                            <a class="page-link page-link--with-arrow" href="{{ path('app_list_don', {'page': dons.getCurrentPageNumber() + 1}) }}" aria-label="Next">
                                <span class="page-link__arrow page-link__arrow--right" aria-hidden="true">
                                    <svg width="7" height="11">
                                        <path d="M0.3,10.7L0.3,10.7c0.4,0.4,0.9,0.4,1.3,0L7,5.5L1.6,0.3C1.2-0.1,0.7,0,0.3,0.3l0,0c-0.4,0.4-0.4,1,0,1.3l4,3.9l-4,3.9
                                        																C-0.1,9.8-0.1,10.4,0.3,10.7z"/>
                                    </svg>
                                </span>
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </nav>
            {#<div class="products-view__pagination-legend">Showing {{ dons.getFirstItemNumber() }}~{{ dons.getLastItemNumber() }} products</div>#}
        </div>
    </div>
